<div class="max-w-5x1 flex flex-col lg:flex-row gap-4 items-center">
  <form [formGroup]="form" class="w-full lg:w-1/2 p-4">

    <h1 class="text-lg font-bold text-blue-700-800 pb-4">{{ edit ? 'Editar comida' : 'Añadir comida' }}</h1>
    <div class="w-full">
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Nombre</mat-label>
        <input matInput placeholder="Ejemplo Pizza" formControlName="name">
        <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
        @if (getName?.invalid && (getName?.dirty || getName?.touched)) {
          <mat-error>
            @if (getName?.hasError('required')) {
              <span class="text-xs">Campo es requerido</span>
            }
          </mat-error>
        }
      </mat-form-field>
    </div>

    <div class="w-full">
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Descripción</mat-label>
        <input matInput placeholder="Ejemplo Pizza" formControlName="description">
        <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
        @if (getDescription?.invalid && (getDescription?.dirty || getDescription?.touched)) {
          <mat-error>
            @if (getDescription?.hasError('required')) {
              <span class="text-xs">Este campo es requerido</span>
            }
            @if (getDescription?.hasError('minlength')) {
              <span class="text-xs">
              Caracteres requeridos es de {{ getDescription?.getError('minlength').requiredLength }}
                , ingresaste {{ getDescription?.getError('minlength').actualLength }}
            </span>
            }
          </mat-error>
        }
      </mat-form-field>
    </div>

    <div class="w-full">
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>URL de la imagen</mat-label>
        <input matInput placeholder="Ejemplo Pizza" formControlName="image">
        <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
        @if (getImage?.invalid && (getImage?.dirty || getImage?.touched)) {
          <mat-error>
            @if (getImage?.hasError('required')) {
              <span class="text-xs">Campo es requerido</span>
            }
          </mat-error>
        }
      </mat-form-field>
    </div>

    <div class="w-full">
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Categoria</mat-label>
        <mat-select formControlName="category">
          <mat-option [value]="'Drink'">Bebida</mat-option>
          <mat-option [value]="'Food'">Comida</mat-option>
        </mat-select>
        @if (getCategory?.invalid && (getCategory?.dirty || getCategory?.touched)) {
          <mat-error>
            @if (getCategory?.hasError('required')) {
              <span class="text-xs">Campo es requerido</span>
            }
          </mat-error>
        }
      </mat-form-field>
    </div>

    <div class="w-full">
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Precio</mat-label>
        <input matInput placeholder="0" type="number" class="example-right-align" formControlName="price">
        <span matTextPrefix>$&nbsp;</span>
        <span matTextSuffix>.00</span>
        @if (getPrice?.invalid && (getPrice?.dirty || getPrice?.touched)) {
          <mat-error>
            @if (getPrice?.hasError('required')) {
              <span class="text-xs">Campo es requerido</span>
            }
            @if (getPrice?.hasError('min')) {
              <span class="text-xs">
              Valor minimo es de {{ getPrice?.getError('min').min }}
                , Valor actual es de {{ getPrice?.getError('min').actual }}
            </span>
            }
          </mat-error>
        }
      </mat-form-field>
    </div>

    <button mat-raised-button color="primary" [disabled]="!form.valid"
            (click)=" edit ? updateData() : sendData() ">{{ edit ? 'Actualizar' : 'Enviar' }}
    </button>
  </form>
  <div class="w-full lg:w-1/2">
    <img class="aspect-video object-cover bg-no-repeat rounded-lg" src="{{getImage?.value}}" alt="">
  </div>
</div>
